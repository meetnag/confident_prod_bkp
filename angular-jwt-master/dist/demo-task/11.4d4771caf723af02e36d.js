(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{MDPZ:function(l,n,e){"use strict";e.r(n);var u=e("CcnG"),t=function(){return function(){}}(),o=e("pMnS"),d=e("Ip0R"),i=e("gIcY"),a=e("gMr2"),s=e("8SOd"),c=e("uqJq"),r=(e("q2se"),function(){function l(l,n,e,u,t){var o=this;this.dashboardService=l,this.router=n,this.authenticationService=e,this.route=u,this.toasterService=t,this.fileToUpload=null,this.docHash="",this.fileNote="",this.productList=[],this.ocList=[],this.selectedProduct="",this.selectedOc=[],this.ocFilterList=[],this.currentUser$=this.authenticationService.currentUserSubject.subscribe(function(l){null!=l&&(o.currentUser=l)})}return l.prototype.ngOnInit=function(){this.getProduct(),this.getOcList()},l.prototype.ngOnDestroy=function(){this.currentUser$.unsubscribe()},l.prototype.getProduct=function(){var l=this;this.dashboardService.getProductList().subscribe(function(n){"success"===n.status&&n.data?l.productList=n.data.productList:l.toasterService.error(n.message)})},l.prototype.getOcList=function(){var l,n=this;l={roleName:this.currentUser.userRole},"Branch/Dealer"===this.currentUser.userRole&&(l.branchId=this.currentUser.user.branchId),this.dashboardService.getOcList(l).subscribe(function(l){"success"===l.status&&(n.ocList=l.data.ocList)})},l.prototype.handleFileInput=function(l){var n=this;this.fileToUpload=l[0],console.log(this.fileToUpload);var e=new FileReader;e.readAsBinaryString(this.fileToUpload),e.onload=function(){n.docHash=btoa(e.result)}},l.prototype.onUploadFile=function(){var l=this;if(null!=this.fileToUpload){console.log("this.sele",this.selectedOc);var n=0,e="",u="";this.selectedOc.length&&this.selectedOc.forEach(function(t,o){var d=new FormData;d.append("FileInfo",JSON.stringify({ocid:t,documentname:l.fileToUpload.name,uploadedby:l.currentUser.user.name,uploadeddate:new Date,notes:l.fileNote})),d.append("file",new File([l.fileToUpload],l.fileToUpload.name+".")),console.log("body",d),l.dashboardService.uploadDocument(d).subscribe(function(t){"success"===t.status?(e=t.message,++n==l.selectedOc.length&&o==l.selectedOc.length-1&&(l.toasterService.success(e),l.selectedOc=[],l.fileNote="",l.fileToUpload=null,l.myInputVariable.nativeElement.value="")):(u=t.message,n!==l.selectedOc.length&&o==l.selectedOc.length-1&&l.toasterService.error(u))})})}else this.toasterService.error("Select File to Upload!!")},l.prototype.onBack=function(){this.router.navigate(["/pages/dashboard"])},l}()),p=e("ZYCi"),m=e("XGZ3"),g=e("SZbH"),v=u["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function h(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,0,"input",[["type","checkbox"]],[[8,"id",0],[8,"checked",0]],null,null,null,null)),(l()(),u["\u0275ted"](1,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,0,0,u["\u0275inlineInterpolate"](1,"item-",n.context.index,""),e.selectedOc.indexOf(n.context.item._id)>-1),l(n,1,0,n.context.item.OCNumber)})}function f(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Oc is required. "]))],null,null)}function b(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"div",[["class","errors"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,f)),u["\u0275did"](2,16384,null,0,d.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,u["\u0275nov"](n.parent,33).errors&&u["\u0275nov"](n.parent,33).errors.required)},null)}function C(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,62,"div",[["class","container"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,61,"div",[["class","panel"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,2,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,1,"h3",[["class","panel-hd"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["OC Documents"])),(l()(),u["\u0275eld"](5,0,null,null,57,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),u["\u0275eld"](6,0,null,null,56,"form",[["class","form-horizontal mt-5 ml-5 mr-5"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u["\u0275nov"](l,8).onSubmit(e)&&t),"reset"===n&&(t=!1!==u["\u0275nov"](l,8).onReset()&&t),t},null,null)),u["\u0275did"](7,16384,null,0,i.z,[],null,null),u["\u0275did"](8,4210688,[["uploadFile",4]],0,i.q,[[8,null],[8,null]],null,null),u["\u0275prd"](2048,null,i.c,null,[i.q]),u["\u0275did"](10,16384,null,0,i.p,[[4,i.c]],null,null),(l()(),u["\u0275eld"](11,0,null,null,28,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](12,0,null,null,27,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),u["\u0275eld"](13,0,null,null,26,"div",[["class","form-group required"]],null,null,null,null,null)),(l()(),u["\u0275eld"](14,0,null,null,1,"label",[["class","col-sm-4 control-label"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["OC Number"])),(l()(),u["\u0275eld"](16,0,null,null,23,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](17,0,null,null,20,"ng-select",[["bindLabel","OCNumber"],["bindValue","_id"],["class","ng-select"],["name","oc"],["required",""],["role","listbox"]],[[1,"required",0],[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],function(l,n,e){var t=!0,o=l.component;return"keydown"===n&&(t=!1!==u["\u0275nov"](l,20).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(o.selectedOc=e)&&t),t},a.b,a.a)),u["\u0275did"](18,16384,null,0,i.v,[],{required:[0,"required"]},null),u["\u0275prd"](1024,null,i.l,function(l){return[l]},[i.v]),u["\u0275did"](20,4964352,null,11,s.b,[s.a,[8,null],u.ChangeDetectorRef,s.i,u.NgZone,s.g,u.ElementRef],{items:[0,"items"],bindLabel:[1,"bindLabel"],bindValue:[2,"bindValue"],closeOnSelect:[3,"closeOnSelect"],multiple:[4,"multiple"]},null),u["\u0275qud"](335544320,1,{optionTemplate:0}),u["\u0275qud"](335544320,2,{optgroupTemplate:0}),u["\u0275qud"](335544320,3,{labelTemplate:0}),u["\u0275qud"](335544320,4,{multiLabelTemplate:0}),u["\u0275qud"](335544320,5,{headerTemplate:0}),u["\u0275qud"](335544320,6,{footerTemplate:0}),u["\u0275qud"](335544320,7,{notFoundTemplate:0}),u["\u0275qud"](335544320,8,{typeToSearchTemplate:0}),u["\u0275qud"](335544320,9,{loadingTextTemplate:0}),u["\u0275qud"](335544320,10,{tagTemplate:0}),u["\u0275qud"](603979776,11,{ngOptions:1}),u["\u0275prd"](1024,null,i.m,function(l){return[l]},[s.b]),u["\u0275did"](33,671744,[["ocId",4]],0,i.r,[[2,i.c],[6,i.l],[8,null],[6,i.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u["\u0275prd"](2048,null,i.n,null,[i.r]),u["\u0275did"](35,16384,null,0,i.o,[[4,i.n]],null,null),(l()(),u["\u0275and"](0,[[1,2]],null,1,null,h)),u["\u0275did"](37,16384,null,0,s.d,[u.TemplateRef],null,null),(l()(),u["\u0275and"](16777216,null,null,1,null,b)),u["\u0275did"](39,16384,null,0,d.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](40,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](41,0,null,null,1,"div",[["class","col-md-3"]],null,null,null,null,null)),(l()(),u["\u0275eld"](42,0,[["myInput",1]],null,0,"input",[["id","file"],["name","file"],["type","file"]],null,[[null,"change"]],function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.handleFileInput(e.target.files)&&u),u},null,null)),(l()(),u["\u0275eld"](43,0,null,null,12,"div",[["class","col-md-3"]],null,null,null,null,null)),(l()(),u["\u0275eld"](44,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](45,0,null,null,1,"label",[["class","col-sm-3 control-label"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Note"])),(l()(),u["\u0275eld"](47,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](48,0,null,null,7,"input",[["class","form-control"],["maxlength","50"],["name","filetext"],["placeholder","File Note"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,o=l.component;return"input"===n&&(t=!1!==u["\u0275nov"](l,49)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,49).onTouched()&&t),"compositionstart"===n&&(t=!1!==u["\u0275nov"](l,49)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u["\u0275nov"](l,49)._compositionEnd(e.target.value)&&t),"ngModelChange"===n&&(t=!1!==(o.fileNote=e)&&t),t},null,null)),u["\u0275did"](49,16384,null,0,i.d,[u.Renderer2,u.ElementRef,[2,i.a]],null,null),u["\u0275did"](50,540672,null,0,i.k,[],{maxlength:[0,"maxlength"]},null),u["\u0275prd"](1024,null,i.l,function(l){return[l]},[i.k]),u["\u0275prd"](1024,null,i.m,function(l){return[l]},[i.d]),u["\u0275did"](53,671744,null,0,i.r,[[2,i.c],[6,i.l],[8,null],[6,i.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u["\u0275prd"](2048,null,i.n,null,[i.r]),u["\u0275did"](55,16384,null,0,i.o,[[4,i.n]],null,null),(l()(),u["\u0275eld"](56,0,null,null,2,"div",[["class","col-md-2"]],null,null,null,null,null)),(l()(),u["\u0275eld"](57,0,null,null,1,"button",[["class","btn btn-primary btn-asset  mb-5"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onUploadFile()&&u),u},null,null)),(l()(),u["\u0275ted"](-1,null,["Upload File"])),(l()(),u["\u0275eld"](59,0,null,null,2,"div",[["class","col-md-2"]],null,null,null,null,null)),(l()(),u["\u0275eld"](60,0,null,null,1,"button",[["class","btn btn-primary btn-asset"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onBack()&&u),u},null,null)),(l()(),u["\u0275ted"](-1,null,["Back "])),(l()(),u["\u0275eld"](62,0,null,null,0,"br",[],null,null,null,null,null))],function(l,n){var e=n.component;l(n,18,0,""),l(n,20,0,e.ocList,"OCNumber","_id",!1,!0),l(n,33,0,"oc",e.selectedOc),l(n,39,0,u["\u0275nov"](n,33).invalid&&(u["\u0275nov"](n,33).dirty||u["\u0275nov"](n,33).touched)),l(n,50,0,"50"),l(n,53,0,"filetext",e.fileNote)},function(l,n){l(n,6,0,u["\u0275nov"](n,10).ngClassUntouched,u["\u0275nov"](n,10).ngClassTouched,u["\u0275nov"](n,10).ngClassPristine,u["\u0275nov"](n,10).ngClassDirty,u["\u0275nov"](n,10).ngClassValid,u["\u0275nov"](n,10).ngClassInvalid,u["\u0275nov"](n,10).ngClassPending),l(n,17,1,[u["\u0275nov"](n,18).required?"":null,!u["\u0275nov"](n,20).multiple,u["\u0275nov"](n,20).typeahead,u["\u0275nov"](n,20).multiple,u["\u0275nov"](n,20).addTag,u["\u0275nov"](n,20).searchable,u["\u0275nov"](n,20).isOpen,u["\u0275nov"](n,20).isDisabled,u["\u0275nov"](n,20).filtered,u["\u0275nov"](n,35).ngClassUntouched,u["\u0275nov"](n,35).ngClassTouched,u["\u0275nov"](n,35).ngClassPristine,u["\u0275nov"](n,35).ngClassDirty,u["\u0275nov"](n,35).ngClassValid,u["\u0275nov"](n,35).ngClassInvalid,u["\u0275nov"](n,35).ngClassPending]),l(n,48,0,u["\u0275nov"](n,50).maxlength?u["\u0275nov"](n,50).maxlength:null,u["\u0275nov"](n,55).ngClassUntouched,u["\u0275nov"](n,55).ngClassTouched,u["\u0275nov"](n,55).ngClassPristine,u["\u0275nov"](n,55).ngClassDirty,u["\u0275nov"](n,55).ngClassValid,u["\u0275nov"](n,55).ngClassInvalid,u["\u0275nov"](n,55).ngClassPending),l(n,57,0,u["\u0275nov"](n,8).invalid)})}function y(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"app-oc-upload",[],null,null,null,C,v)),u["\u0275did"](1,245760,null,0,r,[c.a,p.l,m.a,p.a,g.j],null,null)],function(l,n){l(n,1,0)},null)}var T=u["\u0275ccf"]("app-oc-upload",r,y,{},{},[]),O=e("u1Dc"),N=e("t/Na"),q=e("eDkP"),L=e("Fzqc"),S=e("4tE/"),U=e("5Ccn"),I=e("AmEu"),F=e("k2u+"),x=e("eF4m"),k=e("Wf4p"),D=e("ZYjt"),R=e("dWZg"),w=e("4c35"),M=e("qAlS"),P=e("PCNd"),_=function(){return function(){}}();e.d(n,"OcUploadModuleNgFactory",function(){return V});var V=u["\u0275cmf"](t,[],function(l){return u["\u0275mod"]([u["\u0275mpd"](512,u.ComponentFactoryResolver,u["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,T]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["\u0275mpd"](4608,d.NgLocalization,d.NgLocaleLocalization,[u.LOCALE_ID,[2,d["\u0275angular_packages_common_common_a"]]]),u["\u0275mpd"](4608,i.A,i.A,[]),u["\u0275mpd"](4608,i.e,i.e,[]),u["\u0275mpd"](4608,O.i,O.i,[]),u["\u0275mpd"](4608,O.k,O.k,[N.c]),u["\u0275mpd"](4608,O.c,O.c,[O.i,O.k]),u["\u0275mpd"](4608,s.i,s.i,[]),u["\u0275mpd"](4608,s.g,s.g,[]),u["\u0275mpd"](4608,s.f,s.f,[]),u["\u0275mpd"](4608,q.a,q.a,[q.g,q.c,u.ComponentFactoryResolver,q.f,q.d,u.Injector,u.NgZone,d.DOCUMENT,L.b,[2,d.Location]]),u["\u0275mpd"](5120,q.h,q.i,[q.a]),u["\u0275mpd"](5120,S.a,S.b,[q.a]),u["\u0275mpd"](4608,U.b,U.b,[u.PLATFORM_ID]),u["\u0275mpd"](1073742336,d.CommonModule,d.CommonModule,[]),u["\u0275mpd"](1073742336,p.n,p.n,[[2,p.t],[2,p.l]]),u["\u0275mpd"](1073742336,i.y,i.y,[]),u["\u0275mpd"](1073742336,i.j,i.j,[]),u["\u0275mpd"](1073742336,i.u,i.u,[]),u["\u0275mpd"](1073742336,O.j,O.j,[]),u["\u0275mpd"](1073742336,I.c,I.c,[]),u["\u0275mpd"](1073742336,I.D,I.D,[]),u["\u0275mpd"](1073742336,I.L,I.L,[]),u["\u0275mpd"](1073742336,I.N,I.N,[]),u["\u0275mpd"](1073742336,I.h,I.h,[]),u["\u0275mpd"](1073742336,I.b,I.b,[]),u["\u0275mpd"](1073742336,F.a,F.a,[]),u["\u0275mpd"](1073742336,s.c,s.c,[]),u["\u0275mpd"](1073742336,U.a,U.a,[]),u["\u0275mpd"](1073742336,x.a,x.a,[]),u["\u0275mpd"](1073742336,L.a,L.a,[]),u["\u0275mpd"](1073742336,k.b,k.b,[[2,k.a],[2,D.g]]),u["\u0275mpd"](1073742336,R.b,R.b,[]),u["\u0275mpd"](1073742336,k.f,k.f,[]),u["\u0275mpd"](1073742336,k.e,k.e,[]),u["\u0275mpd"](1073742336,k.c,k.c,[]),u["\u0275mpd"](1073742336,w.b,w.b,[]),u["\u0275mpd"](1073742336,M.b,M.b,[]),u["\u0275mpd"](1073742336,q.e,q.e,[]),u["\u0275mpd"](1073742336,S.c,S.c,[]),u["\u0275mpd"](1073742336,P.a,P.a,[]),u["\u0275mpd"](1073742336,_,_,[]),u["\u0275mpd"](1073742336,t,t,[]),u["\u0275mpd"](256,s.a,{notFoundText:"No items found",typeToSearchText:"Type to search",addTagText:"Add item",loadingText:"Loading...",clearAllText:"Clear all",disableVirtualScroll:!1},[]),u["\u0275mpd"](1024,p.j,function(){return[[{path:"",component:r}]]},[])])})}}]);