(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{MDPZ:function(l,n,e){"use strict";e.r(n);var u=e("CcnG"),t=function(){return function(){}}(),o=e("pMnS"),d=e("Ip0R"),i=e("gIcY"),a=e("gMr2"),s=e("8SOd"),c=e("uqJq"),r=(e("q2se"),function(){function l(l,n,e,u,t){var o=this;this.dashboardService=l,this.router=n,this.authenticationService=e,this.route=u,this.toasterService=t,this.fileToUpload=null,this.docHash="",this.fileNote="",this.productList=[],this.ocList=[],this.selectedProduct="",this.selectedOc=[],this.ocFilterList=[],this.currentUser$=this.authenticationService.currentUserSubject.subscribe(function(l){null!=l&&(o.currentUser=l)})}return l.prototype.ngOnInit=function(){this.getProduct(),this.getOcList()},l.prototype.ngOnDestroy=function(){this.currentUser$.unsubscribe()},l.prototype.getProduct=function(){var l=this;this.dashboardService.getProductList().subscribe(function(n){"success"===n.status&&n.data?l.productList=n.data.productList:l.toasterService.error(n.message)})},l.prototype.getOcList=function(){var l,n=this;l={roleName:this.currentUser.userRole},"Branch/Dealer"===this.currentUser.userRole&&(l.branchId=this.currentUser.user.branchId),this.dashboardService.getOcList(l).subscribe(function(l){"success"===l.status&&(n.ocList=l.data.ocList)})},l.prototype.handleFileInput=function(l){var n=this;this.fileToUpload=l[0],console.log(this.fileToUpload);var e=new FileReader;e.readAsBinaryString(this.fileToUpload),e.onload=function(){n.docHash=btoa(e.result)}},l.prototype.onUploadFile=function(l){var n=this;if(null!=this.fileToUpload){console.log("this.sele",this.selectedOc);var e=0,u="",t="";this.selectedOc.length&&this.selectedOc.forEach(function(o,d){var i=new FormData;i.append("FileInfo",JSON.stringify({ocid:o,documentname:n.fileToUpload.name,uploadedby:n.currentUser.user.name,uploadeddate:new Date,notes:n.fileNote})),i.append("file",new File([n.fileToUpload],n.fileToUpload.name+".")),console.log("body",i),n.dashboardService.uploadDocument(i).subscribe(function(o){"success"===o.status?(u=o.message,++e==n.selectedOc.length&&d==n.selectedOc.length-1&&(n.toasterService.success(u),l.resetForm(),n.selectedOc=[],n.fileNote="",n.fileToUpload=null,n.myInput.nativeElement.value="")):(t=o.message,e!==n.selectedOc.length&&d==n.selectedOc.length-1&&n.toasterService.error(t))})})}else this.toasterService.error("Select File to Upload!!")},l.prototype.onBack=function(){this.router.navigate(["/pages/dashboard"])},l}()),p=e("ZYCi"),m=e("XGZ3"),g=e("SZbH"),v=u["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function h(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,0,"input",[["type","checkbox"]],[[8,"id",0],[8,"checked",0]],null,null,null,null)),(l()(),u["\u0275ted"](1,null,[" "," "]))],null,function(l,n){var e=n.component;l(n,0,0,u["\u0275inlineInterpolate"](1,"item-",n.context.index,""),e.selectedOc.indexOf(n.context.item._id)>-1),l(n,1,0,n.context.item.OCNumber)})}function f(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Oc is required. "]))],null,null)}function b(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"div",[["class","errors"]],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,f)),u["\u0275did"](2,16384,null,0,d.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,u["\u0275nov"](n.parent,34).errors&&u["\u0275nov"](n.parent,34).errors.required)},null)}function C(l){return u["\u0275vid"](0,[u["\u0275qud"](402653184,1,{myInput:0}),(l()(),u["\u0275eld"](1,0,null,null,62,"div",[["class","container"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,61,"div",[["class","panel"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,2,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,1,"h3",[["class","panel-hd"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["OC Documents"])),(l()(),u["\u0275eld"](6,0,null,null,57,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),u["\u0275eld"](7,0,null,null,56,"form",[["class","form-horizontal mt-5 ml-5 mr-5"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u["\u0275nov"](l,9).onSubmit(e)&&t),"reset"===n&&(t=!1!==u["\u0275nov"](l,9).onReset()&&t),t},null,null)),u["\u0275did"](8,16384,null,0,i.A,[],null,null),u["\u0275did"](9,4210688,[["uploadFile",4]],0,i.q,[[8,null],[8,null]],null,null),u["\u0275prd"](2048,null,i.c,null,[i.q]),u["\u0275did"](11,16384,null,0,i.p,[[4,i.c]],null,null),(l()(),u["\u0275eld"](12,0,null,null,28,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](13,0,null,null,27,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),u["\u0275eld"](14,0,null,null,26,"div",[["class","form-group required"]],null,null,null,null,null)),(l()(),u["\u0275eld"](15,0,null,null,1,"label",[["class","col-sm-4 control-label"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["OC Number"])),(l()(),u["\u0275eld"](17,0,null,null,23,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](18,0,null,null,20,"ng-select",[["bindLabel","OCNumber"],["bindValue","_id"],["class","ng-select"],["name","oc"],["required",""],["role","listbox"]],[[1,"required",0],[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"]],function(l,n,e){var t=!0,o=l.component;return"keydown"===n&&(t=!1!==u["\u0275nov"](l,21).handleKeyDown(e)&&t),"ngModelChange"===n&&(t=!1!==(o.selectedOc=e)&&t),t},a.b,a.a)),u["\u0275did"](19,16384,null,0,i.w,[],{required:[0,"required"]},null),u["\u0275prd"](1024,null,i.l,function(l){return[l]},[i.w]),u["\u0275did"](21,4964352,null,11,s.b,[s.a,[8,null],u.ChangeDetectorRef,s.i,u.NgZone,s.g,u.ElementRef],{items:[0,"items"],bindLabel:[1,"bindLabel"],bindValue:[2,"bindValue"],closeOnSelect:[3,"closeOnSelect"],multiple:[4,"multiple"]},null),u["\u0275qud"](335544320,2,{optionTemplate:0}),u["\u0275qud"](335544320,3,{optgroupTemplate:0}),u["\u0275qud"](335544320,4,{labelTemplate:0}),u["\u0275qud"](335544320,5,{multiLabelTemplate:0}),u["\u0275qud"](335544320,6,{headerTemplate:0}),u["\u0275qud"](335544320,7,{footerTemplate:0}),u["\u0275qud"](335544320,8,{notFoundTemplate:0}),u["\u0275qud"](335544320,9,{typeToSearchTemplate:0}),u["\u0275qud"](335544320,10,{loadingTextTemplate:0}),u["\u0275qud"](335544320,11,{tagTemplate:0}),u["\u0275qud"](603979776,12,{ngOptions:1}),u["\u0275prd"](1024,null,i.m,function(l){return[l]},[s.b]),u["\u0275did"](34,671744,[["ocId",4]],0,i.r,[[2,i.c],[6,i.l],[8,null],[6,i.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u["\u0275prd"](2048,null,i.n,null,[i.r]),u["\u0275did"](36,16384,null,0,i.o,[[4,i.n]],null,null),(l()(),u["\u0275and"](0,[[2,2]],null,1,null,h)),u["\u0275did"](38,16384,null,0,s.d,[u.TemplateRef],null,null),(l()(),u["\u0275and"](16777216,null,null,1,null,b)),u["\u0275did"](40,16384,null,0,d.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](41,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](42,0,null,null,1,"div",[["class","col-md-3"]],null,null,null,null,null)),(l()(),u["\u0275eld"](43,0,[[1,0],["myInput",1]],null,0,"input",[["id","file"],["name","file"],["type","file"]],null,[[null,"change"]],function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.handleFileInput(e.target.files)&&u),u},null,null)),(l()(),u["\u0275eld"](44,0,null,null,12,"div",[["class","col-md-3"]],null,null,null,null,null)),(l()(),u["\u0275eld"](45,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](46,0,null,null,1,"label",[["class","col-sm-3 control-label"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Note"])),(l()(),u["\u0275eld"](48,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),u["\u0275eld"](49,0,null,null,7,"input",[["class","form-control"],["maxlength","50"],["name","filetext"],["placeholder","File Note"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,o=l.component;return"input"===n&&(t=!1!==u["\u0275nov"](l,50)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u["\u0275nov"](l,50).onTouched()&&t),"compositionstart"===n&&(t=!1!==u["\u0275nov"](l,50)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u["\u0275nov"](l,50)._compositionEnd(e.target.value)&&t),"ngModelChange"===n&&(t=!1!==(o.fileNote=e)&&t),t},null,null)),u["\u0275did"](50,16384,null,0,i.d,[u.Renderer2,u.ElementRef,[2,i.a]],null,null),u["\u0275did"](51,540672,null,0,i.k,[],{maxlength:[0,"maxlength"]},null),u["\u0275prd"](1024,null,i.l,function(l){return[l]},[i.k]),u["\u0275prd"](1024,null,i.m,function(l){return[l]},[i.d]),u["\u0275did"](54,671744,null,0,i.r,[[2,i.c],[6,i.l],[8,null],[6,i.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u["\u0275prd"](2048,null,i.n,null,[i.r]),u["\u0275did"](56,16384,null,0,i.o,[[4,i.n]],null,null),(l()(),u["\u0275eld"](57,0,null,null,2,"div",[["class","col-md-2"]],null,null,null,null,null)),(l()(),u["\u0275eld"](58,0,null,null,1,"button",[["class","btn btn-primary btn-asset  mb-5"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onUploadFile(u["\u0275nov"](l,9))&&t),t},null,null)),(l()(),u["\u0275ted"](-1,null,["Upload File"])),(l()(),u["\u0275eld"](60,0,null,null,2,"div",[["class","col-md-2"]],null,null,null,null,null)),(l()(),u["\u0275eld"](61,0,null,null,1,"button",[["class","btn btn-primary btn-asset"],["type","button"]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onBack()&&u),u},null,null)),(l()(),u["\u0275ted"](-1,null,["Back "])),(l()(),u["\u0275eld"](63,0,null,null,0,"br",[],null,null,null,null,null))],function(l,n){var e=n.component;l(n,19,0,""),l(n,21,0,e.ocList,"OCNumber","_id",!1,!0),l(n,34,0,"oc",e.selectedOc),l(n,40,0,u["\u0275nov"](n,34).invalid&&(u["\u0275nov"](n,34).dirty||u["\u0275nov"](n,34).touched)),l(n,51,0,"50"),l(n,54,0,"filetext",e.fileNote)},function(l,n){l(n,7,0,u["\u0275nov"](n,11).ngClassUntouched,u["\u0275nov"](n,11).ngClassTouched,u["\u0275nov"](n,11).ngClassPristine,u["\u0275nov"](n,11).ngClassDirty,u["\u0275nov"](n,11).ngClassValid,u["\u0275nov"](n,11).ngClassInvalid,u["\u0275nov"](n,11).ngClassPending),l(n,18,1,[u["\u0275nov"](n,19).required?"":null,!u["\u0275nov"](n,21).multiple,u["\u0275nov"](n,21).typeahead,u["\u0275nov"](n,21).multiple,u["\u0275nov"](n,21).addTag,u["\u0275nov"](n,21).searchable,u["\u0275nov"](n,21).isOpen,u["\u0275nov"](n,21).isDisabled,u["\u0275nov"](n,21).filtered,u["\u0275nov"](n,36).ngClassUntouched,u["\u0275nov"](n,36).ngClassTouched,u["\u0275nov"](n,36).ngClassPristine,u["\u0275nov"](n,36).ngClassDirty,u["\u0275nov"](n,36).ngClassValid,u["\u0275nov"](n,36).ngClassInvalid,u["\u0275nov"](n,36).ngClassPending]),l(n,49,0,u["\u0275nov"](n,51).maxlength?u["\u0275nov"](n,51).maxlength:null,u["\u0275nov"](n,56).ngClassUntouched,u["\u0275nov"](n,56).ngClassTouched,u["\u0275nov"](n,56).ngClassPristine,u["\u0275nov"](n,56).ngClassDirty,u["\u0275nov"](n,56).ngClassValid,u["\u0275nov"](n,56).ngClassInvalid,u["\u0275nov"](n,56).ngClassPending),l(n,58,0,u["\u0275nov"](n,9).invalid)})}function y(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"app-oc-upload",[],null,null,null,C,v)),u["\u0275did"](1,245760,null,0,r,[c.a,p.l,m.a,p.a,g.j],null,null)],function(l,n){l(n,1,0)},null)}var T=u["\u0275ccf"]("app-oc-upload",r,y,{},{},[]),O=e("u1Dc"),q=e("t/Na"),N=e("eDkP"),I=e("Fzqc"),L=e("4tE/"),S=e("5Ccn"),U=e("AmEu"),F=e("k2u+"),x=e("eF4m"),k=e("Wf4p"),D=e("ZYjt"),R=e("dWZg"),w=e("4c35"),M=e("qAlS"),P=e("PCNd"),_=function(){return function(){}}();e.d(n,"OcUploadModuleNgFactory",function(){return j});var j=u["\u0275cmf"](t,[],function(l){return u["\u0275mod"]([u["\u0275mpd"](512,u.ComponentFactoryResolver,u["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,T]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["\u0275mpd"](4608,d.NgLocalization,d.NgLocaleLocalization,[u.LOCALE_ID,[2,d["\u0275angular_packages_common_common_a"]]]),u["\u0275mpd"](4608,i.B,i.B,[]),u["\u0275mpd"](4608,i.e,i.e,[]),u["\u0275mpd"](4608,O.i,O.i,[]),u["\u0275mpd"](4608,O.k,O.k,[q.c]),u["\u0275mpd"](4608,O.c,O.c,[O.i,O.k]),u["\u0275mpd"](4608,s.i,s.i,[]),u["\u0275mpd"](4608,s.g,s.g,[]),u["\u0275mpd"](4608,s.f,s.f,[]),u["\u0275mpd"](4608,N.a,N.a,[N.g,N.c,u.ComponentFactoryResolver,N.f,N.d,u.Injector,u.NgZone,d.DOCUMENT,I.b,[2,d.Location]]),u["\u0275mpd"](5120,N.h,N.i,[N.a]),u["\u0275mpd"](5120,L.a,L.b,[N.a]),u["\u0275mpd"](4608,S.b,S.b,[u.PLATFORM_ID]),u["\u0275mpd"](1073742336,d.CommonModule,d.CommonModule,[]),u["\u0275mpd"](1073742336,p.n,p.n,[[2,p.t],[2,p.l]]),u["\u0275mpd"](1073742336,i.z,i.z,[]),u["\u0275mpd"](1073742336,i.j,i.j,[]),u["\u0275mpd"](1073742336,i.v,i.v,[]),u["\u0275mpd"](1073742336,O.j,O.j,[]),u["\u0275mpd"](1073742336,U.c,U.c,[]),u["\u0275mpd"](1073742336,U.D,U.D,[]),u["\u0275mpd"](1073742336,U.L,U.L,[]),u["\u0275mpd"](1073742336,U.N,U.N,[]),u["\u0275mpd"](1073742336,U.h,U.h,[]),u["\u0275mpd"](1073742336,U.b,U.b,[]),u["\u0275mpd"](1073742336,F.a,F.a,[]),u["\u0275mpd"](1073742336,s.c,s.c,[]),u["\u0275mpd"](1073742336,S.a,S.a,[]),u["\u0275mpd"](1073742336,x.a,x.a,[]),u["\u0275mpd"](1073742336,I.a,I.a,[]),u["\u0275mpd"](1073742336,k.b,k.b,[[2,k.a],[2,D.g]]),u["\u0275mpd"](1073742336,R.b,R.b,[]),u["\u0275mpd"](1073742336,k.f,k.f,[]),u["\u0275mpd"](1073742336,k.e,k.e,[]),u["\u0275mpd"](1073742336,k.c,k.c,[]),u["\u0275mpd"](1073742336,w.b,w.b,[]),u["\u0275mpd"](1073742336,M.b,M.b,[]),u["\u0275mpd"](1073742336,N.e,N.e,[]),u["\u0275mpd"](1073742336,L.c,L.c,[]),u["\u0275mpd"](1073742336,P.a,P.a,[]),u["\u0275mpd"](1073742336,_,_,[]),u["\u0275mpd"](1073742336,t,t,[]),u["\u0275mpd"](256,s.a,{notFoundText:"No items found",typeToSearchText:"Type to search",addTagText:"Add item",loadingText:"Loading...",clearAllText:"Clear all",disableVirtualScroll:!1},[]),u["\u0275mpd"](1024,p.j,function(){return[[{path:"",component:r}]]},[])])})}}]);